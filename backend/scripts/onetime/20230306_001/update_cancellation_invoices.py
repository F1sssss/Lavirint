from backend import models as m
from backend.db import db

corrected_invoices = db.session.query(m.Faktura) \
    .filter(m.Faktura.tip_fakture_id == m.Faktura.TYPE_REGULAR) \
    .filter(m.Faktura.storno_faktura_id.is_not(None)) \
    .all()

for corrected_invoice in corrected_invoices:
    corrective_invoice = db.session.query(m.Faktura).get(corrected_invoice.storno_faktura_id)
    corrective_invoice.storno_faktura_id = corrected_invoice.id
    corrected_invoice.storno_faktura_id = None

    db.session.add(corrective_invoice)
    db.session.add(corrected_invoice)
    db.session.commit()

db.session.query(m.Faktura).filter(m.Faktura.id == 810943).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810945).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810947).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810948).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810951).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810956).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810966).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810968).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810974).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810976).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810978).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810980).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811019).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811030).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811090).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811093).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811098).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811104).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811121).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811123).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811126).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811143).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811144).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 811161).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 898997).update({'storno_faktura_id': 898759})
db.session.query(m.Faktura).filter(m.Faktura.id == 808184).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 808185).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 808186).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 808196).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 808204).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 808239).update({'storno_faktura_id': 808178})
db.session.query(m.Faktura).filter(m.Faktura.id == 806207).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810660).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810661).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810664).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810669).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810931).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810933).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810935).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810970).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 810972).update({'storno_faktura_id': 806210})
db.session.query(m.Faktura).filter(m.Faktura.id == 811133).update({'storno_faktura_id': 806202})
db.session.query(m.Faktura).filter(m.Faktura.id == 811149).update({'storno_faktura_id': 806202})
db.session.query(m.Faktura).filter(m.Faktura.id == 811189).update({'storno_faktura_id': 806202})
db.session.query(m.Faktura).filter(m.Faktura.id == 802147).update({'storno_faktura_id': 802106})
db.session.query(m.Faktura).filter(m.Faktura.id == 802148).update({'storno_faktura_id': 802106})
db.session.query(m.Faktura).filter(m.Faktura.id == 802150).update({'storno_faktura_id': 802106})
db.session.query(m.Faktura).filter(m.Faktura.id == 802152).update({'storno_faktura_id': 802106})
db.session.query(m.Faktura).filter(m.Faktura.id == 791794).update({'storno_faktura_id': 791769})
db.session.query(m.Faktura).filter(m.Faktura.id == 791797).update({'storno_faktura_id': 791769})
db.session.query(m.Faktura).filter(m.Faktura.id == 791802).update({'storno_faktura_id': 791769})
db.session.query(m.Faktura).filter(m.Faktura.id == 781027).update({'storno_faktura_id': 781022})
db.session.query(m.Faktura).filter(m.Faktura.id == 777691).update({'storno_faktura_id': 777659})
db.session.query(m.Faktura).filter(m.Faktura.id == 771058).update({'storno_faktura_id': 770376})
db.session.query(m.Faktura).filter(m.Faktura.id == 771059).update({'storno_faktura_id': 770376})
db.session.query(m.Faktura).filter(m.Faktura.id == 772112).update({'storno_faktura_id': 771913})
db.session.query(m.Faktura).filter(m.Faktura.id == 772114).update({'storno_faktura_id': 771913})
db.session.query(m.Faktura).filter(m.Faktura.id == 770446).update({'storno_faktura_id': 770445})
db.session.query(m.Faktura).filter(m.Faktura.id == 770447).update({'storno_faktura_id': 770445})
db.session.query(m.Faktura).filter(m.Faktura.id == 770169).update({'storno_faktura_id': 770156})
db.session.query(m.Faktura).filter(m.Faktura.id == 810937).update({'storno_faktura_id': 810919})
db.session.query(m.Faktura).filter(m.Faktura.id == 810938).update({'storno_faktura_id': 810919})
db.session.commit()